{"ast":null,"code":"import _toConsumableArray from\"/home/matheus/DEV/Projetos/Kenzie Academy/M3/Sprint 2/s2-12-hamburgueria-kenzie/react-entrega-s1-hamburgueria-da-kenzie-matheusfelipetp-7/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/matheus/DEV/Projetos/Kenzie Academy/M3/Sprint 2/s2-12-hamburgueria-kenzie/react-entrega-s1-hamburgueria-da-kenzie-matheusfelipetp-7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/matheus/DEV/Projetos/Kenzie Academy/M3/Sprint 2/s2-12-hamburgueria-kenzie/react-entrega-s1-hamburgueria-da-kenzie-matheusfelipetp-7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Header}from'./components/Header';import ProductList from'./components/ProductList';import{GlobalStyle}from'./styles/global';import React,{useState,useEffect}from'react';import{instance}from'./scripts/axios';import Cart from'./components/Cart';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import Loading from'./components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),currentSale=_useState4[0],setCurrentSale=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredProducts=_useState6[0],setFilteredProducts=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],setValue=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var notify=function notify(){return toast.success('Produto adicionado ao carrinho');};var handleClick=function handleClick(id){var product=products.find(function(elem){return elem.id===id;});var findProduct=currentSale.find(function(elem){return elem.id===id;});var productCart=_objectSpread(_objectSpread({},product),{},{count:1});if(findProduct){setCurrentSale(_toConsumableArray(currentSale));findProduct.count+=1;}else{setCurrentSale([].concat(_toConsumableArray(currentSale),[productCart]));notify();}};useEffect(function(){instance.get('/products').then(function(res){return setProducts(res.data);}).catch(function(err){return err;}).finally(function(){return setLoading(false);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(Header,{products:products,setFilteredProducts:setFilteredProducts,value:value,setValue:setValue}),/*#__PURE__*/_jsx(\"div\",{className:\"grid-container\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ProductList,{handleClick:handleClick,products:products,filteredProducts:filteredProducts,setFilteredProducts:setFilteredProducts,value:value,setValue:setValue}),/*#__PURE__*/_jsx(Cart,{currentSale:currentSale,setCurrentSale:setCurrentSale})]})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:1000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:false,draggable:true,pauseOnHover:false})]});};export default App;","map":{"version":3,"names":["Header","ProductList","GlobalStyle","React","useState","useEffect","instance","Cart","ToastContainer","toast","Loading","App","products","setProducts","currentSale","setCurrentSale","filteredProducts","setFilteredProducts","value","setValue","loading","setLoading","notify","success","handleClick","id","product","find","elem","findProduct","productCart","count","get","then","res","data","catch","err","finally"],"sources":["/home/matheus/DEV/Projetos/Kenzie Academy/M3/Sprint 2/s2-12-hamburgueria-kenzie/react-entrega-s1-hamburgueria-da-kenzie-matheusfelipetp-7/src/App.js"],"sourcesContent":["import { Header } from './components/Header';\nimport ProductList from './components/ProductList';\nimport { GlobalStyle } from './styles/global';\nimport React, { useState, useEffect } from 'react';\nimport { instance } from './scripts/axios';\nimport Cart from './components/Cart';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loading from './components/Loading';\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [currentSale, setCurrentSale] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [value, setValue] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  const notify = () => toast.success('Produto adicionado ao carrinho');\n\n  const handleClick = (id) => {\n    const product = products.find((elem) => elem.id === id);\n    const findProduct = currentSale.find((elem) => elem.id === id);\n\n    const productCart = {\n      ...product,\n      count: 1,\n    };\n\n    if (findProduct) {\n      setCurrentSale([...currentSale]);\n      findProduct.count += 1;\n    } else {\n      setCurrentSale([...currentSale, productCart]);\n      notify();\n    }\n  };\n\n  useEffect(() => {\n    instance\n      .get('/products')\n      .then((res) => setProducts(res.data))\n      .catch((err) => err)\n      .finally(() => setLoading(false));\n  }, []);\n\n  return (\n    <>\n      <GlobalStyle />\n      <Header\n        products={products}\n        setFilteredProducts={setFilteredProducts}\n        value={value}\n        setValue={setValue}\n      />\n      <div className=\"grid-container\">\n        {loading ? (\n          <Loading />\n        ) : (\n          <>\n            <ProductList\n              handleClick={handleClick}\n              products={products}\n              filteredProducts={filteredProducts}\n              setFilteredProducts={setFilteredProducts}\n              value={value}\n              setValue={setValue}\n            />\n            <Cart currentSale={currentSale} setCurrentSale={setCurrentSale} />\n          </>\n        )}\n      </div>\n      <ToastContainer\n        position=\"top-center\"\n        autoClose={1000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss={false}\n        draggable\n        pauseOnHover={false}\n      />\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}